{% extends "base.html" %}

{% block title %}AI Instagram{% endblock %}

{% block content %}
<h1>AI Instagram</h1>
<div class="post-generator">
    <input type="text" id="promptInput" placeholder="Enter a prompt for the image">
    <button onclick="generatePost()">Generate Post</button>
    <button onclick="generateRandomPost()">Generate Random Post</button>
</div>
<div id="posts">
    {% for post in posts %}
    <div class="post" id="post-{{ post.id }}">
        <h2>{{ post.caption }}</h2>
        <p>Posted by {{ post.username }} on {{ post.date }}</p>
        <img src="{{ post.image }}" alt="{{ post.caption }}">
        <div class="post-actions">
            <button onclick="likePost({{ post.id }})">Like (<span class="likes-count">{{ post.likes }}</span>)</button>
            <button onclick="dislikePost({{ post.id }})">Dislike (<span class="dislikes-count">{{ post.dislikes }}</span>)</button>
            <button onclick="generateRandomComment({{ post.id }})">Generate Random Comment</button>
            <input type="text" placeholder="Add a comment" onkeypress="addComment(event, {{ post.id }})">
        </div>
        <div class="comments">
            {% for comment in post.comments %}
            <p>{{ comment }}</p>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='home.js') }}"></script>
{% endblock %}